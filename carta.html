<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>La Carta — Restaurant Les Guatlles</title>
  <meta name="description" content="Carta completa del Restaurant Les Guatlles: cocina catalana tradicional en Roda de Berà." />
  <meta name="author" content="Restaurant Les Guatlles" />
  <link rel="icon" type="image/x-icon" href="Gemini_Generated_Image_eu8xwceu8xwceu8x-modified.png">

  <!-- Fuentes profesionales de Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <style>
    /* === VARIABLES Y ESTILOS BASE === */
    :root {
      --accent: #8b2e2e;
      --muted: #6b6b6b;
      --bg: #d2b48c;
      --card: #f1e0c6;
      --glass-bg: rgba(255,255,255,0.45);
      --header-offset: 96px;
      --transition-smooth: cubic-bezier(0.4, 0, 0.2, 1);
    }

    * {
      box-sizing: border-box;
      scroll-behavior: smooth;
    }

    html, body {
      height: 100%;
      margin: 0;
      font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      color: #222;
      background: var(--bg);
    }

    h1, h2, h3, h4, h5, h6 {
      font-family: 'Playfair Display', Georgia, serif;
      font-weight: 600;
      letter-spacing: 0.5px;
    }

    a {
      color: var(--accent);
      text-decoration: none;
      transition: all 0.3s var(--transition-smooth);
    }

    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 28px;
    }

    /* === ANIMACIONES DE ENTRADA PROFESIONALES === */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(40px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    @keyframes scaleIn {
      from {
        opacity: 0;
        transform: scale(0.9);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .animate-on-scroll {
      opacity: 0;
      transform: translateY(40px);
      transition: all 0.8s var(--transition-smooth);
    }

    .animate-on-scroll.animated {
      opacity: 1;
      transform: translateY(0);
    }

    /* === HEADER STICKY === */
    header {
      position: fixed;
      top: 18px;
      left: 50%;
      transform: translateX(-50%);
      width: calc(100% - 40px);
      max-width: 1100px;
      background: var(--glass-bg);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-radius: 16px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.15);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      padding: 12px 28px;
      z-index: 1200;
      animation: fadeInDown 0.8s var(--transition-smooth) 0.2s both;
      border: 1px solid rgba(255,255,255,0.2);
      transition: all 0.4s var(--transition-smooth);
    }

    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateX(-50%) translateY(-40px);
      }
      to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }
    }

    header:hover {
      box-shadow: 0 15px 50px rgba(0,0,0,0.2);
      transform: translateX(-50%) translateY(-2px);
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .logo {
      width: 64px;
      height: 64px;
      border-radius: 12px;
      overflow: hidden;
      flex: 0 0 64px;
      background-image: url('https://tse1.mm.bing.net/th/id/OIP.Gi4hYsIc4B3YbKDPpV0b8wAAAA?pid=Api');
      background-size: cover;
      background-position: center;
      transition: all 0.4s var(--transition-smooth);
    }

    .logo:hover {
      transform: rotate(5deg) scale(1.05);
    }

    h1 {
      font-size: 1.25rem;
      margin: 0;
    }

    nav ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      gap: 12px;
      align-items: center;
    }

    nav li {
      padding: 8px 14px;
      border-radius: 10px;
      transition: all 0.3s var(--transition-smooth);
      position: relative;
      overflow: hidden;
    }

    nav li:hover {
      background: rgba(139, 46, 46, 0.1);
      transform: translateY(-2px);
    }

    nav li::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 0;
      height: 2px;
      background: var(--accent);
      transition: all 0.3s var(--transition-smooth);
      transform: translateX(-50%);
    }

    nav li:hover::after {
      width: 70%;
    }

    nav a {
      font-weight: 600;
      cursor: pointer;
      position: relative;
      z-index: 2;
    }

    .hamburger {
      display: none;
      flex-direction: column;
      gap: 5px;
      cursor: pointer;
      padding: 8px;
      border-radius: 8px;
      transition: all 0.3s var(--transition-smooth);
    }

    .hamburger:hover {
      background: rgba(139, 46, 46, 0.1);
    }

    .hamburger span {
      width: 24px;
      height: 3px;
      background: #222;
      border-radius: 3px;
      display: block;
      transition: all 0.3s var(--transition-smooth);
    }

    .hamburger.active span:nth-child(1) {
      transform: rotate(45deg) translate(6px, 6px);
    }

    .hamburger.active span:nth-child(2) {
      opacity: 0;
    }

    .hamburger.active span:nth-child(3) {
      transform: rotate(-45deg) translate(5px, -5px);
    }

    .nav-menu {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .lang-switch {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .lang-switch button {
      background: none;
      border: none;
      cursor: pointer;
      padding: 4px;
      transition: all 0.3s var(--transition-smooth);
      border-radius: 4px;
    }

    .lang-switch button:hover {
      transform: scale(1.15);
      background: rgba(139, 46, 46, 0.1);
    }

    .lang-switch img {
      width: 28px;
      height: 20px;
      border-radius: 3px;
      box-shadow: 0 2px 8px rgba(0,0,0,.1);
      transition: all 0.3s var(--transition-smooth);
    }

    .lang-switch button:hover img {
      box-shadow: 0 4px 12px rgba(0,0,0,.2);
    }

    /* === HERO SECTION === */
    .hero-banner {
      position: relative;
      height: 50vh;
      min-height: 400px;
      display: flex;
      align-items: center;
      justify-content: center;
      background-image: url('https://tse2.mm.bing.net/th/id/OIP.O7ewhGLgfSO-NGCan1UeLAHaFj?pid=Api');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      color: #fff;
      text-align: center;
      margin-top: 84px;
      animation: fadeIn 1.2s var(--transition-smooth);
      overflow: hidden;
    }

    .hero-banner::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.4) 50%, rgba(0,0,0,0.2) 100%);
      z-index: 1;
    }

    .hero-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.3);
      z-index: 1;
    }

    .hero-content {
      position: relative;
      z-index: 2;
      max-width: 800px;
      padding: 30px;
      animation: scaleIn 1.5s var(--transition-smooth) 0.3s both;
    }

    .hero-content h1 {
      font-size: 2.8rem;
      font-family: 'Playfair Display', serif;
      margin-bottom: 15px;
      text-shadow: 0 4px 20px rgba(0,0,0,0.5);
    }

    .hero-content p {
      font-size: 1.3rem;
      line-height: 1.6;
      text-shadow: 0 2px 10px rgba(0,0,0,0.4);
    }

    /* === MAIN CONTENT === */
    main {
      margin-top: 24px;
      padding-bottom: 80px;
      animation: fadeIn 1s var(--transition-smooth) 0.8s both;
    }

    section {
      scroll-margin-top: var(--header-offset);
    }

    /* === CARDS Y COMPONENTES === */
    .card {
      background: var(--card);
      padding: 28px;
      border-radius: 20px;
      box-shadow: 0 10px 40px rgba(12,12,12,0.08);
      margin-bottom: 30px;
      transition: all 0.5s var(--transition-smooth);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--accent), #d2b48c);
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.5s var(--transition-smooth);
    }

    .card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 20px 60px rgba(12,12,12,0.15);
    }

    .card:hover::before {
      transform: scaleX(1);
    }

    .muted {
      color: var(--muted);
    }

    .menu-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .menu-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 2px dashed #ccc;
      padding-bottom: 12px;
      padding-top: 8px;
      transition: all 0.4s var(--transition-smooth);
      position: relative;
    }

    .menu-item:hover {
      transform: translateX(10px);
      border-color: var(--accent);
      padding-left: 10px;
    }

    .menu-item:hover .price {
      transform: scale(1.1);
      color: var(--accent);
    }

    .menu-item:last-child {
      border-bottom: 0;
    }

    footer {
      margin-top: 40px;
      padding: 30px 0;
      color: var(--muted);
      font-size: 0.9rem;
      text-align: center;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-top: 1px solid rgba(0,0,0,0.1);
      animation: fadeInUp 1s var(--transition-smooth);
    }

    /* === BÚSQUEDA EN CARTA MEJORADA === */
    .search-container {
      margin-bottom: 30px;
      position: relative;
    }
    
    .search-box {
      width: 100%;
      padding: 16px 25px;
      border: 2px solid #ddd;
      border-radius: 50px;
      font-size: 1.1rem;
      transition: all 0.4s var(--transition-smooth);
      background: white;
      box-shadow: 0 8px 25px rgba(0,0,0,0.05);
    }
    
    .search-box:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 4px rgba(139, 46, 46, 0.1), 0 12px 35px rgba(0,0,0,0.1);
      transform: translateY(-2px);
    }

    .search-box::placeholder {
      color: #999;
      transition: all 0.3s var(--transition-smooth);
    }

    .search-box:focus::placeholder {
      opacity: 0.5;
      transform: translateX(10px);
    }

    /* === BOTONES MEJORADOS === */
    .btn {
      padding: 14px 28px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      transition: all 0.4s var(--transition-smooth);
      display: inline-block;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    
    .btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255,255,255,0.2);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }
    
    .btn:hover::before {
      width: 300px;
      height: 300px;
    }
    
    .btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(0,0,0,0.2);
    }
    
    .btn-primary {
      background: linear-gradient(135deg, var(--accent), #a83a3a);
      color: white;
    }
    
    .btn-primary:hover {
      background: linear-gradient(135deg, #7a2727, #8b2e2e);
      box-shadow: 0 10px 25px rgba(139, 46, 46, 0.4);
    }

    .btn-secondary {
      background: linear-gradient(135deg, #f1e0c6, #e2cda0);
      color: #8b2e2e;
      border: 2px solid #8b2e2e;
    }
    
    .btn-secondary:hover {
      background: linear-gradient(135deg, #e2cda0, #d4b989);
      transform: translateY(-5px);
    }

    /* WhatsApp flotante */
    .whatsapp-btn {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: linear-gradient(135deg, #25d366, #1ebe57);
      border-radius: 50%;
      width: 70px;
      height: 70px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 30px rgba(37, 211, 102, 0.4);
      z-index: 1300;
      transition: all 0.4s var(--transition-smooth);
      animation: fadeInUp 1s var(--transition-smooth) 1.2s both;
    }
    
    .whatsapp-btn:hover {
      transform: scale(1.15) rotate(10deg);
      box-shadow: 0 15px 40px rgba(37, 211, 102, 0.6);
    }
    
    .whatsapp-btn img {
      width: 40px;
      height: 40px;
      transition: transform 0.3s var(--transition-smooth);
    }

    .whatsapp-btn:hover img {
      transform: scale(1.1);
    }

    /* === NAVEGACIÓN ENTRE PÁGINAS === */
    .page-nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 50px 0;
      padding: 30px;
      background: linear-gradient(135deg, var(--card), #e8d8bc);
      border-radius: 20px;
      border: 3px solid var(--accent);
      box-shadow: 0 15px 40px rgba(0,0,0,0.1);
      transition: all 0.4s var(--transition-smooth);
    }

    .page-nav:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 50px rgba(0,0,0,0.15);
    }

    /* === RESPONSIVE === */
    @media (max-width:768px){
      header{
        flex-direction: column;
        align-items:stretch;
        padding: 2px 8px;
        min-height: auto;
      }
      
      .brand{
        display:flex;
        justify-content:center;
        padding: 0;
        margin: 0;
      }
      .brand .logo{display:none}
      .brand h1{
        font-size: 1rem;
        margin: 0;
        padding: 0;
        text-align:center;
        white-space:nowrap;
        overflow:hidden;
        text-overflow:ellipsis;
        color:#222;
        line-height: 1;
      }

      .nav-menu{
        display:flex;
        align-items:center;
        justify-content:space-between;
        padding: 0px 4px;
        min-height: 24px;
        gap: 0;
      }
      
      .hamburger{
        display:flex;
        align-self:center;
        margin: 0;
        padding: 0;
      }
      .hamburger span{
        background:#222;
      }

      .lang-switch{
        gap: 6px;
        margin: 0;
        padding: 0;
      }

      nav ul{
        position: absolute;
        top: calc(100% + 10px);
        left: 8px;
        right: 8px;
        margin-top:0;
        background: var(--glass-bg);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border-radius: 16px;
        padding: 20px;
        flex-direction: column;
        display: none;
        gap: 15px;
        box-shadow: 0 15px 50px rgba(0,0,0,.2);
        z-index: 1250;
        animation: slideInFromTop 0.4s var(--transition-smooth);
      }
      nav ul.active{ display:flex; }
      
      .hero-content h1{font-size:2.2rem}
      .hero-content p{font-size:1.1rem}
      
      .hero-banner {
        background-attachment: scroll;
        height: 40vh;
        min-height: 300px;
      }
      
      .page-nav {
        flex-direction: column;
        gap: 20px;
        text-align: center;
        padding: 25px;
      }
    }

    @media (max-width:520px){
      .hero-content h1{font-size:1.8rem}
      .hero-content p{font-size:1rem}
      
      header{
        padding: 1px 6px;
      }
      .nav-menu{
        padding: 0px 3px;
        min-height: 22px;
      }
      
      .hero-banner {
        height: 35vh;
        min-height: 250px;
        margin-top: 70px;
      }
      
      .menu-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
      }
      
      .price {
        align-self: flex-end;
      }
      
      .whatsapp-btn {
        bottom: 20px;
        right: 20px;
        width: 60px;
        height: 60px;
      }

      .whatsapp-btn img {
        width: 35px;
        height: 35px;
      }
    }

    /* Footer redes sociales a la izquierda */
    footer .social-icons {
      order: -1;
      margin-right: auto;
    }
    
    .social-icons a {
      display: inline-block;
      margin-right: 15px;
      transition: all 0.3s var(--transition-smooth);
    }
    
    .social-icons a:hover {
      transform: translateY(-5px) scale(1.1);
    }
    
    .social-icons img {
      transition: all 0.3s var(--transition-smooth);
      filter: grayscale(30%);
    }
    
    .social-icons a:hover img {
      filter: grayscale(0%) brightness(1.1);
    }

    /* Estilos para las categorías del menú */
    .menu-category {
      margin-bottom: 40px;
      padding-bottom: 25px;
      border-bottom: 3px solid var(--accent);
      position: relative;
      animation: fadeInUp 0.6s var(--transition-smooth);
    }
    
    .menu-category h2 {
      color: var(--accent);
      padding-bottom: 15px;
      margin-bottom: 20px;
      border-bottom: 2px solid #e0e0e0;
      position: relative;
      display: inline-block;
    }
    
    .menu-category h2::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 80px;
      height: 3px;
      background: var(--accent);
      border-radius: 2px;
    }
    
    .price {
      font-weight: bold;
      color: var(--accent);
      white-space: nowrap;
      font-size: 1.1rem;
      transition: all 0.3s var(--transition-smooth);
      background: rgba(139, 46, 46, 0.05);
      padding: 6px 12px;
      border-radius: 8px;
      border: 1px solid rgba(139, 46, 46, 0.2);
    }
    
    .description {
      font-size: 0.9rem;
      color: var(--muted);
      font-style: italic;
      margin-top: 6px;
      line-height: 1.4;
      transition: all 0.3s var(--transition-smooth);
    }

    .menu-item:hover .description {
      color: #555;
      transform: translateX(5px);
    }

    /* Scroll personalizado */
    ::-webkit-scrollbar {
      width: 10px;
    }
    
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 5px;
    }
    
    ::-webkit-scrollbar-thumb {
      background: var(--accent);
      border-radius: 5px;
      transition: all 0.3s var(--transition-smooth);
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: #7a2727;
    }

    /* Efecto de resaltado en búsqueda */
    .highlight-search {
      background-color: rgba(255, 255, 0, 0.3);
      padding: 2px 4px;
      border-radius: 4px;
      animation: pulseHighlight 1.5s var(--transition-smooth);
    }

    @keyframes pulseHighlight {
      0%, 100% { background-color: rgba(255, 255, 0, 0.3); }
      50% { background-color: rgba(255, 255, 0, 0.6); }
    }
  </style>
</head>
<body>
  <!-- HEADER -->
  <header class="container" role="banner" aria-label="Barra principal">
    <div class="brand" aria-hidden="false">
      <div class="logo" aria-hidden="true"></div>
      <div>
        <h1 data-i18n="title">Restaurant Les Guatlles</h1>
        <div class="muted" data-i18n="location" style="font-size:0.85rem;color:var(--muted)">Roda de Berà — Tarragona</div>
      </div>
    </div>

    <div class="nav-menu" aria-hidden="false">
      <div class="hamburger" id="hamburger" aria-label="Abrir menú" role="button" tabindex="0" aria-expanded="false">
        <span></span><span></span><span></span>
      </div>

      <nav aria-label="Navegación principal">
        <ul id="nav-links" class="nav-links" role="menu">
          <li role="none"><a role="menuitem" href="index.html#sobre" data-i18n="menu_about">Inicio</a></li>
          <li role="none"><a role="menuitem" href="#carta" class="active" data-i18n="menu_menu">La Carta</a></li>
          <li role="none"><a role="menuitem" href="menu-grupos.html" data-i18n="menu_groups">Menú Grupos</a></li>
          <li role="none"><a role="menuitem" href="index.html#eventos" data-i18n="menu_events">Eventos</a></li>
          <li role="none"><a role="menuitem" href="index.html#reservas" data-i18n="menu_reserve">Reservas</a></li>
        </ul>
      </nav>

      <div class="lang-switch" aria-label="Selector de idioma">
        <button data-lang="es" aria-label="Español"><img src="https://flagcdn.com/es.svg" alt="Español"></button>
        <button data-lang="ca" aria-label="Català"><img src="https://upload.wikimedia.org/wikipedia/commons/c/ce/Flag_of_Catalonia.svg" alt="Català"></button>
        <button data-lang="en" aria-label="English"><img src="https://flagcdn.com/gb.svg" alt="English"></button>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero-banner" aria-hidden="false">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1 data-i18n="hero_title_carta">La Carta Completa</h1>
      <p data-i18n="hero_sub_carta">Descubre nuestra cocina catalana tradicional</p>
    </div>
  </section>

  <!-- MAIN -->
  <main class="container" id="maincontent" role="main">
    <!-- Barra de búsqueda -->
    <div class="search-container">
      <input type="text" class="search-box" id="cartaSearch" placeholder="Buscar en la carta (ej: ensalada, cordero, bacalao)..." aria-label="Buscar en la carta" data-i18n-placeholder="search_placeholder">
      <div style="text-align: center; margin-top: 10px; font-size: 0.9rem; color: var(--muted);" id="searchResults"></div>
    </div>

    <!-- PRIMEROS PLATOS -->
    <section id="carta" class="menu-category animate-on-scroll">
      <h2 data-i18n="primeros_title">PRIMEROS PLATOS</h2>
      
      <div class="menu-list">
        <div class="menu-item" data-i18n-key="ensalada_guatlles">
          <div>
            <div data-i18n="ensalada_guatlles_name">Ensalada Les Guatlles</div>
            <div class="description" data-i18n="ensalada_guatlles_desc">Lechuga variada, huevos de codorniz, paté, tomates cherry, cebolla frita, frutos secos y vinagre de módena</div>
          </div>
          <div class="price">14,50€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="ensalada_verde">
          <div>
            <div data-i18n="ensalada_verde_name">Ensalada verde</div>
            <div class="description" data-i18n="ensalada_verde_desc">Lechuga, tomate, pimiento, cebolla, atún, huevo, remolacha, zanahoria y aceitunas</div>
          </div>
          <div class="price">12,00€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="xato">
          <div data-i18n="xato_name">Xató</div>
          <div class="price">15,20€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="escalivada">
          <div data-i18n="escalivada_name">Escalivada (pimiento y berenjena)</div>
          <div class="price">15,30€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="caracoles">
          <div data-i18n="caracoles_name">Caracoles a la llauna</div>
          <div class="price">17,00€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="canelones">
          <div data-i18n="canelones_name">Canelones de la abuela</div>
          <div class="price">12,00€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="calçots">
          <div data-i18n="calçots_name">Calçots con salsa</div>
          <div class="price">15,50€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="jamon">
          <div data-i18n="jamon_name">Jamón Ibérico</div>
          <div class="price">16,00€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="coca">
          <div data-i18n="coca_name">Coca de cebolla</div>
          <div class="price">11,00€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="anchoas">
          <div>
            <div data-i18n="anchoas_name">Anchoas de L'Escala</div>
            <div class="description" data-i18n="anchoas_desc">Anchoas, zanahoria, remolacha y aceitunas</div>
          </div>
          <div class="price">14,00€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="tostada">
          <div>
            <div data-i18n="tostada_name">Tostada de la casa</div>
            <div class="description" data-i18n="tostada_desc">Pan tostado con "all i oli", escalivada, anchoas y olivas</div>
          </div>
          <div class="price">15,00€</div>
        </div> 

        <div class="menu-item" data-i18n-key="alcachofa">
          <div>
            <div data-i18n="alcachofa_name">Alcachofa a la brasa, unidad s/t</div>
          <div class="price">2,90€/u</div>
        </div>

        <div class="menu-item" data-i18n-key="patorrat">
          <div>
            <div data-i18n="patorrat_name">Pan tostado (rebanada)</div>
          <div class="price">1,00€/u</div>
        </div> 
      </div>
    </section>

    <!-- SEGUNDOS PLATOS -->
    <section class="menu-category animate-on-scroll">
      <h2 data-i18n="segundos_title">SEGUNDOS PLATOS</h2>
      
      <div class="menu-list">
        <div class="menu-item" data-i18n-key="panceta">
          <div data-i18n="panceta_name">Panceta con guarnición</div>
          <div class="price">12,00€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="butifarra">
          <div data-i18n="butifarra_name">Butifarra con guarnición</div>
          <div class="price">12,50€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="morcilla">
          <div data-i18n="morcilla_name">Morcilla con guarnición</div>
          <div class="price">13,50€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="cordero">
          <div data-i18n="cordero_name">Cordero a la brasa con guarnición</div>
          <div class="price">17,50€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="lomo">
          <div data-i18n="lomo_name">Lomo a la brasa con guarnición</div>
          <div class="price">10,50€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="codornices">
          <div data-i18n="codornices_name">Codornices al ron (una pieza)</div>
          <div class="price">4,85€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="conejo">
          <div data-i18n="conejo_name">Conejo a la brasa con guarnición</div>
          <div class="price">15,50€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="picanton">
          <div data-i18n="picanton_name">Picantón a la brasa con guarnición</div>
          <div class="price">15,50€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="entrecot">
          <div data-i18n="entrecot_name">Entrecot a la brasa con guarnición</div>
          <div class="price">24,00€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="churrasco">
          <div data-i18n="churrasco_name">Churrasco de ternera a la brasa</div>
          <div class="price">15,00€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="pies">
          <div data-i18n="pies_name">Pies de cerdo a la brasa con guarnición</div>
          <div class="price">14,00€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="carrillada">
          <div data-i18n="carrillada_name">Carrillada de cerdo a la brasa con guarnición</div>
          <div class="price">15,00€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="bacalao">
          <div data-i18n="bacalao_name">Bacalao al pisto (samfaina)</div>
          <div class="price">18,00€</div>
        </div>
      </div>
    </section>

    <!-- RACIONES Y EXTRAS -->
    <section class="menu-category animate-on-scroll">
      <h2 data-i18n="raciones_title">RACIONES Y EXTRAS</h2>
      
      <div class="menu-list">
        <div class="menu-item" data-i18n-key="judias">
          <div data-i18n="judias_name">Judías secas</div>
          <div class="price">4,90€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="patatas_fritas">
          <div data-i18n="patatas_fritas_name">Patatas fritas</div>
          <div class="price">4,80€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="patatas_horno">
          <div data-i18n="patatas_horno_name">Patatas al horno</div>
          <div class="price">4,20€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="romesco">
          <div data-i18n="romesco_name">Salsa romesco</div>
          <div class="price">3,50€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="alioli">
          <div data-i18n="alioli_name">Alioli</div>
          <div class="price">2,50€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="alcachofa">
          <div data-i18n="alcachofa_name">Alcachofa a la brasa, unidad s/t</div>
          <div class="price">2,80€/u</div>
        </div>
        
        <div class="menu-item" data-i18n-key="pan_tostado">
          <div data-i18n="pan_tostado_name">Pan tostado (rebanada)</div>
          <div class="price">1,00€/u</div>
        </div>
        
        <div class="menu-item" data-i18n-key="babero">
          <div data-i18n="babero_name">Babero</div>
          <div class="price">0,50€</div>
        </div>
        
        <div class="menu-item" data-i18n-key="taper">
          <div data-i18n="taper_name">Táper</div>
          <div class="price">1,00€</div>
        </div>
      </div>
    </section>

    <!-- MENÚ INFANTIL -->
    <section class="menu-category animate-on-scroll">
      <h2 data-i18n="infantil_title">MENÚ INFANTIL</h2>
      
      <div class="menu-list">
        <div class="menu-item" data-i18n-key="infantil">
          <div>
            <div data-i18n="infantil_name">Plato combinado</div>
            <div class="description" data-i18n="infantil_desc">Macarrones con tomate, Nuggets de pollo, patatas fritas, refresco y helado (o postre)</div>
          </div>
          <div class="price">16,00€</div>
        </div>
      </div>
    </section>

    <!-- NAVEGACIÓN ENTRE PÁGINAS -->
    <div class="page-nav">
      <a href="index.html" class="btn btn-secondary">
        <i class="fas fa-arrow-left" style="margin-right: 10px;"></i><span data-i18n="volver_inicio">Volver al inicio</span>
      </a>
      
      <a href="menu-grupos.html" class="btn btn-primary">
        <span data-i18n="ver_grupos">Ver Menús de Grupo</span> <i class="fas fa-arrow-right" style="margin-left: 10px;"></i>
      </a>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="container" role="contentinfo">
    <span class="social-icons" aria-label="Redes sociales">
      <a href="https://www.instagram.com/restaurantlesguatlles/?hl=es" target="_blank" rel="noopener" aria-label="Instagram">
        <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram" width="22" height="22">
      </a>
      <a href="https://www.facebook.com/Restaurantlesguatlles/?locale=es_ES" target="_blank" rel="noopener" aria-label="Facebook">
        <img src="https://upload.wikimedia.org/wikipedia/commons/1/1b/Facebook_icon.svg" alt="Facebook" width="22" height="22">
      </a>
    </span>
    <span>© <span id="year"></span> <span data-i18n="title">Restaurant Les Guatlles</span></span>
  </footer>

      <!-- FIRMA DE DESARROLLO -->
    <div style="
        margin-top: 20px;
        padding-top: 15px;
        border-top: 1px solid rgba(0,0,0,0.1);
        width: 100%;
        text-align: center;
        font-size: 0.85rem;
        color: var(--muted);
    ">
        Esta página web ha sido creada por<br>
        <a href="https://prounek.com" target="_blank" rel="noopener" style="text-decoration: none;">
        <span style="
            font-family: 'Poppins', sans-serif;
            font-weight: 400;
            font-size: 1.2rem;
            background: linear-gradient(90deg, #000000, #c89116);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: inline-block;
            margin-top: 5px;
            transition: all 0.3s var(--transition-smooth);
        ">Prounek</span>
        </a>
    </div>
</footer>

  <!-- BOTÓN WHATSAPP -->
  <a href="https://wa.me/34977809022" class="whatsapp-btn" target="_blank" rel="noopener" aria-label="Abrir WhatsApp">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
  </a>

  <script>
    // === INICIALIZACIÓN ===
    document.addEventListener('DOMContentLoaded', function() {
      // Año actual
      document.getElementById('year').textContent = new Date().getFullYear();
      
      // Inicializar búsqueda
      initializeSearch();
      
      // Inicializar animaciones al hacer scroll
      initializeScrollAnimations();
      
      // Sistema de navegación
      initializeNavigation();
      
      // Sistema de idiomas COMPLETO
      initializeLanguage();
    });

    // === SISTEMA DE BÚSQUEDA MEJORADO ===
    function initializeSearch() {
      const cartaSearch = document.getElementById('cartaSearch');
      const searchResults = document.getElementById('searchResults');
      
      if (cartaSearch) {
        cartaSearch.addEventListener('input', function(e) {
          const results = filterMenuItems(e.target.value.toLowerCase().trim());
          updateSearchResults(results);
        });
        
        // Efecto de enfoque
        cartaSearch.addEventListener('focus', function() {
          this.style.transform = 'translateY(-3px)';
          this.style.boxShadow = '0 15px 40px rgba(0,0,0,0.1)';
        });
        
        cartaSearch.addEventListener('blur', function() {
          this.style.transform = 'translateY(0)';
          this.style.boxShadow = '0 8px 25px rgba(0,0,0,0.05)';
        });
      }
    }

    function filterMenuItems(searchTerm) {
      const menuItems = document.querySelectorAll('.menu-item');
      let foundCount = 0;
      const originalTexts = new Map();
      
      // Guardar textos originales si es la primera vez
      if (!window.menuOriginalTexts) {
        window.menuOriginalTexts = new Map();
        menuItems.forEach(item => {
          const key = item.getAttribute('data-i18n-key');
          if (key) {
            const nameElement = item.querySelector('[data-i18n-name]') || item.querySelector('div:not(.price):not(.description)');
            const descElement = item.querySelector('.description');
            window.menuOriginalTexts.set(key, {
              name: nameElement ? nameElement.textContent : '',
              desc: descElement ? descElement.textContent : ''
            });
          }
        });
      }
      
      menuItems.forEach(item => {
        const text = item.textContent.toLowerCase();
        
        if (searchTerm === '' || text.includes(searchTerm)) {
          item.style.display = 'flex';
          item.style.opacity = '1';
          item.style.transform = 'translateX(0)';
          foundCount++;
          
          // Resaltar texto de búsqueda
          if (searchTerm !== '') {
            highlightSearchText(item, searchTerm);
          } else {
            removeHighlight(item);
          }
        } else {
          item.style.display = 'none';
          item.style.opacity = '0';
          item.style.transform = 'translateX(-20px)';
        }
      });
      
      // Mostrar/Ocultar categorías
      const categories = document.querySelectorAll('.menu-category');
      categories.forEach(category => {
        const visibleItems = category.querySelectorAll('.menu-item[style*="display: flex"]');
        if (visibleItems.length === 0) {
          category.style.opacity = '0.3';
          category.style.pointerEvents = 'none';
        } else {
          category.style.opacity = '1';
          category.style.pointerEvents = 'auto';
          
          // Animación para categorías con resultados
          category.style.animation = 'none';
          setTimeout(() => {
            category.style.animation = 'fadeInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
          }, 10);
        }
      });
      
      return foundCount;
    }

    function highlightSearchText(item, searchTerm) {
      const elements = item.querySelectorAll('div:not(.price)');
      elements.forEach(element => {
        const originalText = element.textContent;
        const regex = new RegExp(`(${searchTerm})`, 'gi');
        const highlightedText = originalText.replace(regex, '<span class="highlight-search">$1</span>');
        
        if (highlightedText !== originalText) {
          element.innerHTML = highlightedText;
        }
      });
    }

    function removeHighlight(item) {
      const elements = item.querySelectorAll('div:not(.price)');
      elements.forEach(element => {
        if (element.innerHTML.includes('highlight-search')) {
          const key = item.getAttribute('data-i18n-key');
          if (key && window.menuOriginalTexts && window.menuOriginalTexts.has(key)) {
            const original = window.menuOriginalTexts.get(key);
            if (element.hasAttribute('data-i18n-name') || !element.querySelector('.description')) {
              element.textContent = original.name;
            } else if (element.classList.contains('description')) {
              element.textContent = original.desc;
            }
          } else {
            element.innerHTML = element.textContent;
          }
        }
      });
    }

    function updateSearchResults(count) {
      const searchResults = document.getElementById('searchResults');
      if (searchResults) {
        if (count === 0 && document.getElementById('cartaSearch').value !== '') {
          searchResults.textContent = 'No se encontraron resultados. Intenta con otra búsqueda.';
          searchResults.style.color = '#8b2e2e';
          searchResults.style.fontWeight = '500';
        } else if (document.getElementById('cartaSearch').value !== '') {
          searchResults.textContent = `Se encontraron ${count} platos`;
          searchResults.style.color = '#2e8b57';
          searchResults.style.fontWeight = '500';
        } else {
          searchResults.textContent = '';
        }
      }
    }

    // === ANIMACIONES AL SCROLL ===
    function initializeScrollAnimations() {
      const observerOptions = {
        threshold: 0.05,
        rootMargin: '0px 0px -50px 0px'
      };
      
      const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            setTimeout(() => {
              entry.target.classList.add('animated');
            }, 200);
            
            // Efecto escalonado para los items del menú
            if (entry.target.classList.contains('menu-category')) {
              const menuItems = entry.target.querySelectorAll('.menu-item');
              menuItems.forEach((item, index) => {
                setTimeout(() => {
                  item.style.opacity = '0';
                  item.style.transform = 'translateX(-20px)';
                  item.style.transition = 'all 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
                  setTimeout(() => {
                    item.style.opacity = '1';
                    item.style.transform = 'translateX(0)';
                  }, 100);
                }, index * 100);
              });
            }
          }
        });
      }, observerOptions);
      
      // Observar todos los elementos con la clase animate-on-scroll
      document.querySelectorAll('.animate-on-scroll').forEach(el => {
        observer.observe(el);
      });
    }

    // === SISTEMA DE NAVEGACIÓN ===
    function initializeNavigation() {
      const hamburger = document.getElementById('hamburger');
      const navLinks = document.getElementById('nav-links');

      function toggleMenu() {
        const expanded = hamburger.getAttribute('aria-expanded') === 'true';
        hamburger.setAttribute('aria-expanded', String(!expanded));
        hamburger.classList.toggle('active');
        navLinks.classList.toggle('active');
      }
      
      if (hamburger) {
        hamburger.addEventListener('click', toggleMenu);
      }

      // Cerrar menú al hacer clic en un enlace
      document.querySelectorAll('nav a').forEach(link => {
        link.addEventListener('click', () => {
          navLinks.classList.remove('active');
          hamburger.setAttribute('aria-expanded','false');
          hamburger.classList.remove('active');
        });
      });
    }

    // === SISTEMA DE IDIOMAS COMPLETO ===
    function initializeLanguage() {
      const translations = {
        es: {
          // Títulos generales
          "title": "Restaurant Les Guatlles",
          "location": "Roda de Berà — Tarragona",
          
          // Navegación
          "menu_about": "Inicio",
          "menu_menu": "La Carta",
          "menu_groups": "Menú Grupos",
          "menu_events": "Eventos",
          "menu_reserve": "Reservas",
          
          // Hero
          "hero_title_carta": "La Carta Completa",
          "hero_sub_carta": "Descubre nuestra cocina catalana tradicional",
          
          // Búsqueda
          "search_placeholder": "Buscar en la carta (ej: ensalada, cordero, bacalao)...",
          
          // Categorías
          "primeros_title": "PRIMEROS PLATOS",
          "segundos_title": "SEGUNDOS PLATOS",
          "raciones_title": "RACIONES Y EXTRAS",
          "infantil_title": "MENÚ INFANTIL",
          
          // Primeros platos
          "ensalada_guatlles_name": "Ensalada Les Guatlles",
          "ensalada_guatlles_desc": "Lechuga variada, huevos de codorniz, paté, tomates cherry, cebolla frita, frutos secos y vinagre de módena",
          "ensalada_verde_name": "Ensalada verde",
          "ensalada_verde_desc": "Lechuga, tomate, pimiento, cebolla, atún, huevo, remolacha, zanahoria y aceitunas",
          "xato_name": "Xató",
          "escalivada_name": "Escalivada (pimiento y berenjena)",
          "caracoles_name": "Caracoles a la llauna",
          "canelones_name": "Canelones de la abuela",
          "calçots_name": "Calçots con salsa",
          "jamon_name": "Jamón del país",
          "coca_name": "Coca de cebolla",
          "anchoas_name": "Anchoas de L'Escala",
          "anchoas_desc": "Anchoas, zanahoria, remolacha y aceitunas",
          "tostada_name": "Tostada de la casa",
          "tostada_desc": "Pan tostado con \"all i oli\", escalivada, anchoas y olivas",
          "alcachofa_name": "Alcachofa a la brasa, unidad s/t",
          "patorrat_name": "Pan tostado (rebanada)",
          
          // Segundos platos
          "panceta_name": "Panceta con guarnición",
          "butifarra_name": "Butifarra con guarnición",
          "morcilla_name": "Morcilla con guarnición",
          "cordero_name": "Cordero a la brasa con guarnición",
          "lomo_name": "Lomo a la brasa con guarnición",
          "codornices_name": "Codornices al ron (una pieza)",
          "conejo_name": "Conejo a la brasa con guarnición",
          "picanton_name": "Picantón a la brasa con guarnición",
          "entrecot_name": "Entrecot a la brasa con guarnición",
          "churrasco_name": "Churrasco de ternera a la brasa",
          "pies_name": "Pies de cerdo a la brasa con guarnición",
          "carrillada_name": "Carrillada de cerdo a la brasa con guarnición",
          "bacalao_name": "Bacalao al pisto (samfaina)",
          
          // Raciones y extras
          "judias_name": "Judías secas",
          "patatas_fritas_name": "Patatas fritas",
          "patatas_horno_name": "Patatas al horno",
          "romesco_name": "Salsa romesco",
          "alioli_name": "Alioli",
          "alcachofa_name": "Alcachofa a la brasa, unidad s/t",
          "pan_tostado_name": "Pan tostado (rebanada)",
          "babero_name": "Babero",
          "taper_name": "Táper",
          
          // Menú infantil
          "infantil_name": "Plato combinado",
          "infantil_desc": "Macarrones con tomate, Nuggets de pollo, patatas fritas, refresco y helado (o postre)",
          
          // Navegación entre páginas
          "volver_inicio": "Volver al inicio",
          "ver_grupos": "Ver Menús de Grupo"
        },
        ca: {
          // Títulos generales
          "title": "Restaurant Les Guatlles",
          "location": "Roda de Berà — Tarragona",
          
          // Navegación
          "menu_about": "Inici",
          "menu_menu": "La Carta",
          "menu_groups": "Menú Grups",
          "menu_events": "Esdeveniments",
          "menu_reserve": "Reserves",
          
          // Hero
          "hero_title_carta": "La Carta Completa",
          "hero_sub_carta": "Descobreix la nostra cuina catalana tradicional",
          
          // Búsqueda
          "search_placeholder": "Cercar a la carta (ex: amanida, xai, bacallà)...",
          
          // Categorías
          "primeros_title": "PRIMERS PLATS",
          "segundos_title": "SEGONS PLATS",
          "raciones_title": "RACIONS I EXTRES",
          "infantil_title": "MENÚ INFANTIL",
          
          // Primeros platos
          "ensalada_guatlles_name": "Amanida Les Guatlles",
          "ensalada_guatlles_desc": "Enciam variat, ous de guatlla, paté, tomàtigs cherry, ceba fregida, fruits secs i vinagre de Módena",
          "ensalada_verde_name": "Amanida verda",
          "ensalada_verde_desc": "Enciam, tomàquet, pebrot, ceba, tonyina, ou, remolatxa, pastanaga i olives",
          "xato_name": "Xató",
          "escalivada_name": "Escalivada (pebrot i albergínia)",
          "caracoles_name": "Cargols a la llauna",
          "canelones_name": "Canalons de l'àvia",
          "calçots_name": "Calçots amb salsa",
          "jamon_name": "Pernil del país",
          "coca_name": "Coca de ceba",
          "anchoas_name": "Seitons de L'Escala",
          "anchoas_desc": "Seitons, pastanaga, remolatxa i olives",
          "tostada_name": "Torrada de la casa",
          "tostada_desc": "Pa torrat amb \"all i oli\", escalivada, seitons i olives",
          "alcachofa_name": "Carxofa a la brasa unitat s/t",
          "patorrat_name": "Pa torrat (llesca)",
          
          // Segundos platos
          "panceta_name": "Panceta amb guarnició",
          "butifarra_name": "Botifarra amb guarnició",
          "morcilla_name": "Botifarra negra amb guarnició",
          "cordero_name": "Xai a la brasa amb guarnició",
          "lomo_name": "Llom a la brasa amb guarnició",
          "codornices_name": "Guatlles al rom (una peça)",
          "conejo_name": "Conill a la brasa amb guarnició",
          "picanton_name": "Picantó a la brasa amb guarnició",
          "entrecot_name": "Entrecot a la brasa amb guarnició",
          "churrasco_name": "Xurrasco de vedella a la brasa",
          "pies_name": "Potes de porc a la brasa amb guarnició",
          "carrillada_name": "Galta de porc a la brasa amb guarnició",
          "bacalao_name": "Bacallà amb samfaina",
          
          // Raciones y extras
          "judias_name": "Fesols secs",
          "patatas_fritas_name": "Patates fregides",
          "patatas_horno_name": "Patates al forn",
          "romesco_name": "Salsa romesco",
          "alioli_name": "All i oli",
          "alcachofa_name": "Carxofa a la brasa, unitat s/t",
          "pan_tostado_name": "Pa torrat (llesca)",
          "babero_name": "Baver",
          "taper_name": "Tupper",
          
          // Menú infantil
          "infantil_name": "Plat combinat",
          "infantil_desc": "Macarrons amb tomàquet, Nuggets de pollastre, patates fregides, refresc i gelat (o postre)",
          
          // Navegación entre páginas
          "volver_inicio": "Tornar a l'inici",
          "ver_grupos": "Veure Menús de Grup"
        },
        en: {
          // Títulos generales
          "title": "Restaurant Les Guatlles",
          "location": "Roda de Berà — Tarragona",
          
          // Navegación
          "menu_about": "Home",
          "menu_menu": "Menu",
          "menu_groups": "Group Menus",
          "menu_events": "Events",
          "menu_reserve": "Reservations",
          
          // Hero
          "hero_title_carta": "Complete Menu",
          "hero_sub_carta": "Discover our traditional Catalan cuisine",
          
          // Búsqueda
          "search_placeholder": "Search in the menu (e.g.: salad, lamb, cod)...",
          
          // Categorías
          "primeros_title": "STARTERS",
          "segundos_title": "MAIN COURSES",
          "raciones_title": "SIDES AND EXTRAS",
          "infantil_title": "KIDS MENU",
          
          // Primeros platos
          "ensalada_guatlles_name": "Les Guatlles Salad",
          "ensalada_guatlles_desc": "Mixed lettuce, quail eggs, pâté, cherry tomatoes, fried onion, nuts and Modena vinegar",
          "ensalada_verde_name": "Green salad",
          "ensalada_verde_desc": "Lettuce, tomato, pepper, onion, tuna, egg, beetroot, carrot and olives",
          "xato_name": "Xató salad",
          "escalivada_name": "Grilled vegetables (pepper and aubergine)",
          "caracoles_name": "Snails in a tin",
          "canelones_name": "Grandma's cannelloni",
          "calçots_name": "Calçots with sauce",
          "jamon_name": "Local ham",
          "coca_name": "Onion flatbread",
          "anchoas_name": "Anchovies from L'Escala",
          "anchoas_desc": "Anchovies, carrot, beetroot and olives",
          "tostada_name": "House toast",
          "tostada_desc": "Toasted bread with \"aioli\", grilled vegetables, anchovies and olives",
          "alcachofa_name": "Grilled artichoke unit s/t",
          "patorrat_name": "Toasted bread (slice)",
          
          // Segundos platos
          "panceta_name": "Pork belly with garnish",
          "butifarra_name": "Catalan sausage with garnish",
          "morcilla_name": "Black pudding with garnish",
          "cordero_name": "Grilled lamb with garnish",
          "lomo_name": "Grilled pork loin with garnish",
          "codornices_name": "Quail with rum (one piece)",
          "conejo_name": "Grilled rabbit with garnish",
          "picanton_name": "Grilled poussin with garnish",
          "entrecot_name": "Grilled entrecôte with garnish",
          "churrasco_name": "Grilled beef churrasco",
          "pies_name": "Grilled pig's feet with garnish",
          "carrillada_name": "Grilled pork cheek with garnish",
          "bacalao_name": "Cod with ratatouille (samfaina)",
          
          // Raciones y extras
          "judias_name": "Dried beans",
          "patatas_fritas_name": "French fries",
          "patatas_horno_name": "Baked potatoes",
          "romesco_name": "Romesco sauce",
          "alioli_name": "Aioli",
          "alcachofa_name": "Grilled artichoke, unit s/t",
          "pan_tostado_name": "Toasted bread (slice)",
          "babero_name": "Bib",
          "taper_name": "Tupper",
          
          // Menú infantil
          "infantil_name": "Combo plate",
          "infantil_desc": "Macaroni with tomato, Chicken nuggets, French fries, soft drink and ice cream (or dessert)",
          
          // Navegación entre páginas
          "volver_inicio": "Back to home",
          "ver_grupos": "See Group Menus"
        }
      };

      const savedLang = localStorage.getItem('lang') || 'es';
      setLanguage(savedLang);

      document.querySelectorAll('.lang-switch button').forEach(btn => {
        btn.addEventListener('click', () => {
          const lang = btn.getAttribute('data-lang');
          setLanguage(lang);
        });
      });

      function setLanguage(lang) {
        try { localStorage.setItem('lang', lang); } catch(e) {}
        
        if (translations[lang]) {
          // Traducir elementos con data-i18n
          document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (translations[lang][key]) {
              el.textContent = translations[lang][key];
            }
          });
          
          // Traducir placeholders
          document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
            const key = el.getAttribute('data-i18n-placeholder');
            if (translations[lang][key]) {
              el.placeholder = translations[lang][key];
            }
          });
          
          // Traducir elementos dentro de los items del menú
          document.querySelectorAll('.menu-item').forEach(item => {
            const key = item.getAttribute('data-i18n-key');
            if (key && translations[lang]) {
              // Nombre del plato
              const nameElement = item.querySelector('[data-i18n]');
              if (nameElement) {
                const nameKey = nameElement.getAttribute('data-i18n');
                if (translations[lang][nameKey]) {
                  nameElement.textContent = translations[lang][nameKey];
                }
              }
              
              // Descripción del plato
              const descElements = item.querySelectorAll('[data-i18n]');
              descElements.forEach(descEl => {
                const descKey = descEl.getAttribute('data-i18n');
                if (descKey.includes('_desc') && translations[lang][descKey]) {
                  descEl.textContent = translations[lang][descKey];
                }
              });
              
              // Si no tiene elementos separados, traducir el texto directamente
              const nameKey = key + '_name';
              const descKey = key + '_desc';
              
              if (translations[lang][nameKey]) {
                // Buscar el primer div que no sea precio ni descripción
                const textDivs = item.querySelectorAll('div:not(.price):not(.description)');
                textDivs.forEach(div => {
                  if (!div.querySelector('.description') && !div.classList.contains('price')) {
                    const existingText = div.textContent;
                    if (existingText && !existingText.includes('€')) {
                      div.textContent = translations[lang][nameKey];
                    }
                  }
                });
              }
              
              // Actualizar descripción si existe
              const descElement = item.querySelector('.description');
              if (descElement && translations[lang][descKey]) {
                descElement.textContent = translations[lang][descKey];
              }
            }
          });
        }
      }
    }
  </script>
</body>
</html>
